apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnector
metadata:
  name: mongo-connector
  namespace: kafka
  labels:
    strimzi.io/cluster: my-connect-cluster
spec:
  class: io.debezium.connector.mongodb.MongoDbConnector
  tasksMax: 1
  config:
    mongodb.connection.string: "mongodb://root:${file:/opt/kafka/external-configuration/mongo-auth/password}@mongo-mongodb.database.svc.cluster.local:27017/?authSource=admin"
    topic.prefix: mongo
    collection.include.list: commerce.events
    capture.mode: change_streams_update_full
